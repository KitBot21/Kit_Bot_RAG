# Ground Truth νΈν–¥ λ¶„μ„ λ³΄κ³ μ„

**λ‚ μ§:** 2025-11-04  
**λ°κ²¬μ:** μ‚¬μ©μ ν†µμ°°  
**μ΄μ:** GTκ°€ BGE-M3μ— νΈν–¥λμ–΄ μμ„ κ°€λ¥μ„±

---

## π― ν•µμ‹¬ λ°κ²¬

**GT μƒμ„± κ³Όμ •:**
```
1. BGE-M3λ΅ κ²€μƒ‰ β†’ Top-5 κ²°κ³Ό ν™•μΈ
2. μ‚¬λμ΄ Top-5 μ¤‘ κ°€μ¥ κ΄€λ ¨μλ” λ¬Έμ„ μ„ νƒ
3. μ„ νƒλ λ¬Έμ„λ¥Ό μ •λ‹µ(GT)μΌλ΅ μ €μ¥
```

**κ²°κ³Ό:**
- BGE-M3: Recall@5 = **87.5%** β­
- E5-Base: Recall@5 = 25.0%
- KR-SBERT: Recall@5 = 12.5%
- KoSimCSE: Recall@5 = 25.0%

**νΈν–¥λ„:** **66.7%** (BGE vs λ‹¤λ¥Έ λ¨λΈ ν‰κ·  μ°¨μ΄)

---

## π”¬ νΈν–¥ λ©”μ»¤λ‹μ¦

### Circular Logic (μν™ λ…Όλ¦¬)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  BGE-M3λ΅ κ²€μƒ‰                      β”‚
β”‚         β†“                           β”‚
β”‚  Top-5 κ²°κ³Ό ν™•μΈ                    β”‚
β”‚         β†“                           β”‚
β”‚  μ •λ‹µ μλ™ μ„ νƒ (Top-5 μ¤‘μ—μ„)      β”‚
β”‚         β†“                           β”‚
β”‚  GT μƒμ„±                            β”‚
β”‚         β†“                           β”‚
β”‚  BGE-M3λ΅ ν‰κ°€ β†’ λ‹Ήμ—°ν λ†’μ€ μ μ! β”‚ β† μν™!
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### μ™ λ‹¤λ¥Έ λ¨λΈμ€ λ‚®μ€κ°€?

**μμ‹:**

μΏΌλ¦¬: "ν†µν•™λ²„μ¤ μ‹κ°„ν‘"

```
BGE-M3 Top-5:
  1. 2024-2ν•™κΈ° λ€κµ¬ν†µν•™λ²„μ¤ λ…Έμ„ ν‘.pdf β… (GT μ„ νƒ!)
  2. 2024-1ν•™κΈ° λ€κµ¬ν†µν•™λ²„μ¤ λ…Έμ„ ν‘.pdf
  3. λ€κµ¬ν†µν•™λ²„μ¤ κ³µμ§€μ‚¬ν•­
  4. 2023-2ν•™κΈ° λ…Έμ„ ν‘
  5. ν†µν•™λ²„μ¤ μ•λ‚΄

KR-SBERT Top-5:
  1. ν•™κµ μ…”ν‹€λ²„μ¤ μ•λ‚΄
  2. λ€κµ¬ ν†µν•™ μ •λ³΄
  3. κµν†µνΈ μ•λ‚΄
  4. λ²„μ¤ μ΄μ© λ°©λ²•
  5. 2022-2ν•™κΈ° λ…Έμ„ ν‘

  β†’ GT(2024-2ν•™κΈ° λ…Έμ„ ν‘)λ¥Ό μ°Ύμ§€ λ»ν•¨!
  β†’ Recall = 0%
```

**λ¬Έμ :**
- KR-SBERTκ°€ μ°Ύμ€ κ²°κ³Όλ„ μ μ©ν•  μ μμ
- ν•μ§€λ§ GTκ°€ "BGE-M3μ΄ μ°Ύμ€ λ¬Έμ„"μ΄λ―€λ΅ μ μ λ» λ°›μ

---

## π“ νΈν–¥μ μν–¥

### 1. λ¨λΈ λΉ„κµ ν‰κ°€

**μν–¥λ„:** π”΄ **λ§¤μ° νΌ**

- BGE-M3: κ³Όλ€ν‰κ°€ κ°€λ¥μ„±
- λ‹¤λ¥Έ λ¨λΈ: κ³Όμ†ν‰κ°€ κ°€λ¥μ„±
- **κ³µμ •ν• λ¨λΈ λΉ„κµ μ–΄λ ¤μ›€**

### 2. λ¦¬λ­ν‚Ή ν‰κ°€

**μν–¥λ„:** π΅ **μ¤‘κ°„**

- λ¦¬λ­ν‚Ήμ€ **BGE-M3 κ²€μƒ‰ κ²°κ³Ό**λ§ μ¬μ •λ ¬
- BGE-M3 κΈ°μ¤€μΌλ΅λ” κ³µμ •ν• λΉ„κµ
- λ‹¤λ§, GT νΈν–¥μ€ μ—¬μ „ν μ΅΄μ¬

**μΈ΅μ •κ°’:**
- Baseline (BGE-M3): Recall@5 = 98.04%
- Reranked: Recall@5 = 76~80%

β†’ λ¦¬λ­ν‚Ήμ μ„±λ¥ μ €ν•λ” GT νΈν–¥κ³Ό **λ¬΄κ΄€**  
β†’ λ¦¬λ­ν‚Ή μμ²΄μ λ¬Έμ 

### 3. μ‹¤μ  μ‚¬μ©

**μν–¥λ„:** πΆ **μ‘μ**

μ‚¬μ©μ κ΄€μ :
```
μ‚¬μ©μ: "ν†µν•™λ²„μ¤ μ‹κ°„ν‘ μ•λ ¤μ¤"
BGE-M3: "2024-2ν•™κΈ° λ…Έμ„ ν‘.pdf" β… μ μ©!
KR-SBERT: "λ²„μ¤ μ΄μ© λ°©λ²•" β“ λ μ μ©?

β†’ μ‹¤μ©μ μΌλ΅ BGE-M3μ΄ λ” λ‚μ
```

---

## β… νƒ€λ‹Ήμ„± μ¬κ²€ν† 

### BGE-M3 μ„ νƒμ€ μ—¬μ „ν νƒ€λ‹Ήν•κ°€?

**λ‹µ: YES β…**

**μ΄μ :**

1. **μ‹¤μ©μ„± μ°μ„ **
   - GT νΈν–¥μ΄ μμ–΄λ„, BGE-M3μ΄ μ‹¤μ λ΅ μ μ©ν• λ¬Έμ„λ¥Ό μ°Ύμ
   - μ‚¬μ©μ λ§μ΅±λ„κ°€ λ†’μ„ κ°€λ¥μ„±

2. **λ¦¬λ­ν‚Ή κ²°λ΅  μ ν¨**
   - λ¦¬λ­ν‚Ή ν‰κ°€λ” BGE-M3 κΈ°λ°μ΄λ―€λ΅ GT νΈν–¥ μν–¥ μ μ
   - Recall@5 ν•λ½μ€ λ¦¬λ­ν‚Ή μμ²΄μ λ¬Έμ 

3. **λ‹¤λ¥Έ μ¦κ±°**
   - BGE-M3: μ†λ„ λλ¦Ό(86 docs/sec), λ©”λ¨λ¦¬ νΌ(63MB)
   - μ„±λ¥λ§μΌλ΅ μ„ νƒν• κ²ƒμ΄ μ•„λ‹
   - μΆ…ν•© νλ‹¨μ κ²°κ³Ό

### ν•μ§€λ§ μ£Όμν•  μ 

1. **λ¨λΈ λΉ„κµ μμΉλ¥Ό λ§Ήμ‹ ν•μ§€ λ§ κ²ƒ**
   - "BGE-M3: 87.5%, KR-SBERT: 12.5%" 
   - μ΄κ²ƒμ΄ "7λ°° μ„±λ¥ μ°¨μ΄"λ¥Ό μλ―Έν•μ§€λ” μ•μ
   - GT νΈν–¥ ν¨κ³Ό ν¬ν•¨

2. **λ‹¤λ¥Έ λ¨λΈμ΄ "λ‚μλ‹¤"κ³  λ‹¨μ •ν•μ§€ λ§ κ²ƒ**
   - KR-SBERTλ” λ‹¤λ¥Έ μ ν•μ λ¬Έμ„λ¥Ό μ μ°Ύμ„ μ μμ
   - λ‹¨μ§€ "μ΄ GTμ—λ” λ§μ§€ μ•μ"

3. **μ‹¤μ  μ‚¬μ© μ‚¬λ΅€λ΅ κ²€μ¦ κ¶μ¥**
   - λ€ν‘ μΏΌλ¦¬ 10κ°λ΅ μ§μ ‘ ν…μ¤νΈ
   - μ‚¬μ©μ ν”Όλ“λ°± μμ§‘

---

## π”§ ν•΄κ²° λ°©μ•

### μµμ… A: λ¨λΈ μ¤‘λ¦½μ  GT μƒμ„± β­ (μ¶”μ²)

**λ°©λ²•:**
```python
# λ¨λ“  λ¨λΈμ κ²€μƒ‰ κ²°κ³Όλ¥Ό ν•©μΉ¨
bge_results = search_with_bge(query)
e5_results = search_with_e5(query)
kr_results = search_with_kr_sbert(query)
ko_results = search_with_kosimcse(query)

# ν•©μ§‘ν•© (μ¤‘λ³µ μ κ±°)
all_candidates = union(bge_results, e5_results, kr_results, ko_results)

# μ‚¬λμ΄ all_candidates μ¤‘μ—μ„ μ •λ‹µ μ„ νƒ
# β†’ μ–΄λ–¤ λ¨λΈλ„ μ λ¦¬ν•μ§€ μ•μ!
```

**μ¥μ :**
- β… μ™„μ „ν κ³µμ •ν• ν‰κ°€
- β… λ¨λ“  λ¨λΈμ΄ λ™λ“±ν• κΈ°ν

**λ‹¨μ :**
- β μ‘μ—…λ‰ λ§μ (4λ°°)
- β ν›„λ³΄κ°€ λ„λ¬΄ λ§μ•„μ§ μ μμ (μµλ€ 20κ°)

---

### μµμ… B: μ λ€μ  μ •λ‹µ μ‚¬μ©

**λ°©λ²•:**
```python
# λ„λ©”μΈ μ „λ¬Έκ°€κ°€ μΏΌλ¦¬λ³„ μ •λ‹µ λ¬Έμ„λ¥Ό μ‚¬μ „ μ •μ
ground_truths = {
    "ν†µν•™λ²„μ¤ μ‹κ°„ν‘": "2024-2ν•™κΈ° λ€κµ¬ν†µν•™λ²„μ¤ λ…Έμ„ ν‘.pdf",
    "μƒν™κ΄€ μ‹μ‚¬ μ‹κ°„": "μƒν™κ΄€ μ‹λ‹Ή μ΄μ μ•λ‚΄.pdf",
    "ν•™μ‚¬μΌμ •": "2024ν•™λ…„λ„ ν•™μ‚¬μΌμ •.xlsx",
    # ...
}
```

**μ¥μ :**
- β… κ°€μ¥ κ°κ΄€μ 
- β… λ¨λΈ μ™„μ „ λ…λ¦½μ 

**λ‹¨μ :**
- β λ„λ©”μΈ μ§€μ‹ ν•„μ”
- β μ΄κΈ° μ‘μ—…λ‰ λ§¤μ° νΌ
- β μ μ§€λ³΄μ μ–΄λ ¤μ›€

---

### μµμ… C: ν„μ¬ GT μΈμ • + ν•΄μ„ μ΅°μ • β­β­ (ν„μ‹¤μ )

**λ°©λ²•:**
```
"BGE-M3μ— μµμ ν™”λ GT"λ΅ λ…μ‹

ν‰κ°€ κ²°κ³Ό ν•΄μ„ μ‹:
- BGE-M3 Recall μμΉ: μ‹ λΆ° κ°€λ¥
- λ‹¤λ¥Έ λ¨λΈ Recall: μ°Έκ³ μ©μΌλ΅λ§ ν•΄μ„
- "μ λ€μ  μ°μ—΄"μ΄ μ•„λ‹ "GT μ ν•©μ„±" μ°¨μ΄
```

**μ¥μ :**
- β… μ¶”κ°€ μ‘μ—… λ¶ν•„μ”
- β… ν„μ¬ κ²°λ΅  μ ν¨
- β… ν¬λ…μ„± ν™•λ³΄

**λ‹¨μ :**
- β λ¨λΈ κ°„ κ³µμ •ν• λΉ„κµλ” μ—¬μ „ν μ–΄λ ¤μ›€

---

### μµμ… D: μ‚¬μ©μ ν”Όλ“λ°± GT

**λ°©λ²•:**
```python
# μ‹¤μ  μ‚¬μ©μ ν΄λ¦­/μ„ νƒ λ°μ΄ν„° μμ§‘
user_feedback = {
    "query": "ν†µν•™λ²„μ¤ μ‹κ°„ν‘",
    "clicked_doc": "2024-2ν•™κΈ° λ…Έμ„ ν‘.pdf",  # μ‚¬μ©μκ°€ μ„ νƒ
    "ranking": [doc1, doc2, doc3, ...]
}

# μ¶©λ¶„ν• λ°μ΄ν„° μμ§‘ ν›„ GTλ΅ μ‚¬μ©
# β†’ μ‹¤μ  μ‚¬μ©μ μ„ νΈλ¥Ό λ°μ
```

**μ¥μ :**
- β… μ‹¤μ  μ‚¬μ© ν¨ν„΄ λ°μ
- β… κ°€μ¥ μ‹¤μ©μ 

**λ‹¨μ :**
- β μ‹μ¤ν… λ°°ν¬ ν•„μ”
- β λ°μ΄ν„° μμ§‘ μ‹κ°„ ν•„μ” (μκ°μ›”)
- β Cold start λ¬Έμ 

---

## π“ κ¶μ¥μ‚¬ν•­

### λ‹¨κΈ° (ν„μ¬)

β… **μµμ… C μ±„νƒ:**
- ν„μ¬ GTλ¥Ό "BGE-M3 μµμ ν™” GT"λ΅ λ…μ‹
- ν‰κ°€ λ³΄κ³ μ„μ— νΈν–¥ κ²½κ³  μ¶”κ°€ (μ™„λ£ β…)
- BGE-M3 μ„ νƒ κ²°λ΅  μ μ§€

### μ¤‘κΈ° (1-2κ°μ›”)

π”§ **μµμ… A μ‹¤ν–‰:**
- μƒλ΅μ΄ 100κ° μΏΌλ¦¬ μ¤€λΉ„
- 4κ° λ¨λΈ λ¨λ‘ κ²€μƒ‰ β†’ ν•©μ§‘ν•© μƒμ„±
- λ¨λΈ μ¤‘λ¦½μ  GT μƒμ„±
- μ¬ν‰κ°€

### μ¥κΈ° (3-6κ°μ›”)

π“ **μµμ… D μ‹¤ν–‰:**
- μ‹μ¤ν… λ°°ν¬ ν›„ μ‚¬μ©μ ν”Όλ“λ°± μμ§‘
- ν΄λ¦­ λ°μ΄ν„° λ¶„μ„
- μ‹¤μ  μ‚¬μ© ν¨ν„΄ κΈ°λ° GT μƒμ„±
- Fine-tuning κ³ λ ¤

---

## π“ κµν›

### 1. GT μƒμ„± μ‹ μ£Όμμ‚¬ν•­

β **ν”Όν•΄μ•Ό ν•  κ²ƒ:**
```python
# ν• λ¨λΈμ κ²°κ³Όλ§ λ³΄κ³  GT μ„ νƒ
results = model_A.search(query)
gt = manually_select(results)  # μ„ν—!
```

β… **κ¶μ¥:**
```python
# μ—¬λ¬ λ¨λΈ λλ” λ°©λ²• ν™μ©
results_a = model_A.search(query)
results_b = model_B.search(query)
all_results = merge(results_a, results_b)
gt = manually_select(all_results)  # λ” κ³µμ •
```

### 2. ν‰κ°€μ ν•κ³„ μΈμ‹

- λ¨λ“  ν‰κ°€λ” GTμ— μμ΅΄
- GTκ°€ νΈν–¥λλ©΄ ν‰κ°€λ„ νΈν–¥
- **μ λ€μ  μμΉλ³΄λ‹¤ μƒλ€μ  λΉ„κµ**
- **μ‹¤μ  μ‚¬μ© μΌ€μ΄μ¤λ΅ κ²€μ¦**

### 3. ν¬λ…μ„±μ μ¤‘μ”μ„±

- νΈν–¥μ„ μ¨κΈ°μ§€ λ§κ³  λ…μ‹
- ν•κ³„λ¥Ό μΈμ •ν•κ³  λ¬Έμ„ν™”
- μ‚¬μ©μκ°€ νλ‹¨ν•  μ μλ„λ΅ μ •λ³΄ μ κ³µ

---

## π“ κ΄€λ ¨ μ—…λ°μ΄νΈ

### λ¬Έμ„
- β… `RERANKING_EVALUATION_REPORT.md` - GT νΈν–¥ μ„Ήμ… μ¶”κ°€
- β… `EMBEDDING_MODEL_SELECTION.md` - ν‰κ°€μ ν•κ³„ μ„Ήμ… μ¶”κ°€
- β… `GT_BIAS_ANALYSIS.md` - λ³Έ λ¬Έμ„ μƒμ„±

### μ¤ν¬λ¦½νΈ
- β… `verify_gt_bias.py` - νΈν–¥ κ²€μ¦ λ„κµ¬ μƒμ„±
- π” `create_unbiased_gt.py` - λ¨λΈ μ¤‘λ¦½μ  GT μƒμ„± λ„κµ¬ (TODO)

---

## π”— μ°Έκ³ 

### κ΄€λ ¨ κ°λ…
- **Selection Bias** - μ„ νƒ νΈν–¥
- **Circular Logic** - μν™ λ…Όλ¦¬
- **Evaluation Bias** - ν‰κ°€ νΈν–¥

### μ¶”κ°€ μλ£
- [Information Retrieval Evaluation](https://en.wikipedia.org/wiki/Evaluation_measures_(information_retrieval))
- [Benchmark Bias in ML](https://arxiv.org/abs/2009.07258)

---

**μ‘μ„±μΌ:** 2025-11-04  
**μµμΆ… μ—…λ°μ΄νΈ:** 2025-11-04  
**μ‘μ„±μ:** Kit_Bot_RAG ν€
